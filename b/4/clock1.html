<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>canvas绘制时钟</title>
	<style>
		div{
			text-align:center;
			margin:100px auto;
		}
	</style>
</head>
<body>
	<div>
		<canvas width = "200px" height = "200px" id = "clock"></canvas>
	</div>
	<script>
		var clock = document.getElementById("clock");
		var ctx = clock.getContext("2d");
		var width = ctx.canvas.width,
		    height = ctx.canvas.height,
			r = width/2;
		
		function drawCircle(){
			ctx.save();
			ctx.translate(r, r);
			ctx.beginPath();
			ctx.lineWidth = 10;
			ctx.strokeStyle = "green";
			ctx.arc(0, 0, r - 6, 0 , 2*Math.PI, false);
			ctx.stroke();
			
			
			var hourNum = [3,4,5,6,7,8,9,10,11,12,1,2];
			hourNum.forEach(function(num, i){
				var rad = 2 * Math.PI / 12 * i,
				    x = Math.cos(rad) * (r - 30),
					y = Math.sin(rad) * (r - 30);
				ctx.font = "18px Arial";
				ctx.textAlign = "center";
				ctx.textBaseline = "middle";
				ctx.fillStyle = "#333";
				ctx.fillText(num, x, y);
			});
			
			for(var i = 0; i < 60; i++){
				var rad = 2 * Math.PI /60 * i,
				    x = Math.cos(rad) * (r - 18),
					y = Math.sin(rad) * (r - 18);
				ctx.beginPath();
				if(i % 5 === 0){
					ctx.arc(x, y, 2, 0, 2*Math.PI, false);
					ctx.fillStyle = "#333";
					ctx.fill();
				}else{
					ctx.arc(x, y, 1, 0, 2*Math.PI, false);
					ctx.fillStyle = "#666";
					ctx.fill();
				}
			}
		}
		
		function drawHour(hour, min){
			var rad = 2 * Math.PI / 12 * hour,
			    mrad = 2 * Math.PI / 12 / 60 * min;
			ctx.save();
			ctx.beginPath();
			ctx.rotate(rad + mrad);
			ctx.lineWidth = 4;
			ctx.lineCap = "round";
			ctx.strokeStyle = "#333";
			ctx.moveTo(0, 0);
			ctx.lineTo(0, -r/2);
			ctx.stroke();
			ctx.restore();
		}
		function drawMinute(min){
			var rad = 2 * Math.PI /60 * min;
			ctx.save();
			ctx.beginPath();
			ctx.rotate(rad);
			ctx.lineWidth = 3;
			ctx.lineCap = "round";
			ctx.strokeStyle = "#333";
			ctx.moveTo(0, 0);
			ctx.lineTo(0, -r+25);
			ctx.stroke();
			ctx.restore();
		}
		function drawSecond(sec){
			var rad = 2 * Math.PI /60 * sec;
			ctx.save();
			ctx.beginPath();
			ctx.rotate(rad);
			ctx.lineWidth = 1;
			ctx.lineCap = "round";
			ctx.strokeStyle = "#333";
			ctx.moveTo(0, 25);
			ctx.lineTo(0, -r+22);
			ctx.stroke();
			ctx.restore();
		}
		function drawDot(){
			ctx.beginPath();
			ctx.fillStyle = "#333";
			ctx.arc(0, 0, 3.5, 0, 2 * Math.PI, false);
			
			ctx.fill();
		}
		
		function Draw(){
			ctx.clearRect(0, 0, width, height);
			var time = new Date(),
			    hour = time.getHours() % 12,
				minute = time.getMinutes(),
				second = time.getSeconds();
			
			drawCircle();
			drawHour(hour, minute);
			drawMinute(minute);
			drawSecond(second);
			drawDot();
			ctx.restore();
		}
		Draw();
		setInterval(Draw, 1000);
	</script>
</body>
</html>